"use strict";var __decorate=this&&this.__decorate||function(e,t,s,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(a=(o<3?r(a):o>3?r(t,s,a):r(t,s))||a);return o>3&&a&&Object.defineProperty(t,s,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),router_1=require("@angular/router"),davis_service_1=require("../../davis.service"),_=require("lodash"),ConfigUsersComponent=function(){function e(e,t){this.iDavis=e,this.router=t,this.submitted=!1,this.submitButton="Save",this.isPasswordFocused=!1,this.isPasswordMasked=!0,this.addUser=!0,this.editUser=!1,this.users=[],this.backImg="/assets/img/back.svg",this.backImgHover="/assets/img/back-hover.svg",this.filterName=""}return e.prototype.addMode=function(){this.iDavis.values.otherUser={email:null,password:null,timezone:null,alexa_ids:null,name:{first:null,last:null},admin:!1},this.iDavis.values.otherUser.timezone=this.iDavis.getTimezone(),this.iDavis.values.original.otherUser=_.cloneDeep(this.iDavis.values.otherUser),this.filterName=""},e.prototype.editMode=function(e){this.editUser=!0,this.iDavis.values.original.otherUser=e,this.iDavis.values.otherUser=_.cloneDeep(e),this.filterName=""},e.prototype.getUsers=function(){var e=this;this.iDavis.getDavisUsers().then(function(t){e.iDavis.values.users=t.users,_.remove(e.iDavis.values.users,function(t){return t.email===e.iDavis.values.user.email}),e.users=_.cloneDeep(t.users)},function(t){e.iDavis.config.users.success=!1,e.iDavis.config.users.error="Unable to get users, please try again later."}).catch(function(t){t.includes("invalid token")&&e.iDavis.logOut()})},e.prototype.updateFilter=function(e){this.filterName=e.value},e.prototype.ngOnInit=function(){this.getUsers()},e}();ConfigUsersComponent=__decorate([core_1.Component({moduleId:module.id,selector:"config-users",templateUrl:"./config-users.component.html"}),__metadata("design:paramtypes",[davis_service_1.DavisService,router_1.Router])],ConfigUsersComponent),exports.ConfigUsersComponent=ConfigUsersComponent;
//# sourceMappingURL=../../../../maps/app/shared/config/config-users/config-users.component.js.map
