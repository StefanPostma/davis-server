<form (ngSubmit)="doSubmit()" #form="ngForm">
<div class="layout is-flex has-islands">
  <div class="island--full-width island--full-width-sidebar">
    <div class="config-title">
      {{ iConfig.values.filter.name }}
    </div>
    <a href="https://github.com/Dynatrace/davis-server/wiki/Getting%20Started" target="_blank" class="config-help">
      {{ iConfig.helpLinkText }}
    </a>
  </div>
  <div *ngIf="iConfig.status['user'].success === false" class="island--full-width island--error island--full-width-sidebar island--my-account-error">
    {{ iConfig.status['filter'].error }}
  </div>
  <div class="island--full-width island--full-width-sidebar">
    <div class="island island--center island--left island--my-account">
      <div class="layout is-flex has-islands">
        <label for="first" class="label">
          Name
        </label>
        <input type="text" name="name"
          class="inputfield" id="name"
          [(ngModel)]="iConfig.values.filter.name" 
          (keyup)="validate()" required>
      </div>
      <div class="layout is-flex has-islands">
        <label for="description" class="label">
          Description
        </label>
        <input type="text" name="description" 
          class="inputfield" id="description"
          [(ngModel)]="iConfig.values.filter.description" 
          (keyup)="validate()" required>
      </div>
      <div class="layout is-flex has-islands">
        <label for="scope" class="label">
          Scope
        </label>
        <input type="text" name="description" 
          class="inputfield" id="description"
          [(ngModel)]="iConfig.values.filter.scope" 
          (keyup)="validate()" required>
      </div>
      <div class="layout is-flex has-islands">
        <label for="status" class="label">
          Status
        </label>
        <select *ngIf="isMyUser" id="status" name="status" 
          [(ngModel)]="iDavis.values.user.status"
          (ngModelChange)="onTimezoneChange($event); validate()"
          [class.select-opened]="isSelectOpened" 
          (click)="isSelectOpened = !isSelectOpened" 
          (blur)="isSelectOpened = false;" required>
          <option *ngFor="let tz of iConfig.timezones" [value]="tz">{{tz}}</option>
        </select>
      </div>
      <div class="island island--center island--submit">
        <button type="submit" class="btn btn--primary btn--submit"
            [attr.disabled]="(!form.valid || submitButton === 'Saving...' || !isDirty) ? true : null">
            {{ submitButton }}
        </button>
      </div>
    </div>
  </div>
</div>
</form>
   
