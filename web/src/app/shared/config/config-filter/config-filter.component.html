<form (ngSubmit)="doSubmit()" #form="ngForm">
<div class="layout is-flex has-islands">
  <div class="island--full-width island--full-width-sidebar">
    <div class="config-title">
      Filter
    </div>
    <a href="https://github.com/Dynatrace/davis-server/wiki/Getting%20Started" target="_blank" class="config-help">
      {{ iConfig.helpLinkText }}
    </a>
  </div>
  <div *ngIf="iConfig.status['user'].success === false" class="island--full-width island--error island--full-width-sidebar island--my-account-error">
    {{ iConfig.status['filter'].error }}
  </div>
  <div class="island--full-width island--full-width-sidebar">
    <div class="island island--center island--left island--my-account">
      <div class="layout is-flex has-islands island--half">
        <label for="first" class="label">
          Name
        </label>
        <input type="text" name="name"
          class="inputfield" id="name"
          [(ngModel)]="iConfig.values.filter.name" 
          (keyup)="validate()" required>
      </div>
      <div class="layout is-flex has-islands island--half">
        <label for="last" class="label">
          Description
        </label>
        <input type="text" name="description" 
          class="inputfield" id="description"
          [(ngModel)]="iConfig.values.filter.description" 
          (keyup)="validate()" required>
      </div>
      <div class="layout is-flex has-islands island--half">
        <div class="layout__container layout--half layout--half--small" [class.checkbox--admin]="!iConfig.isWizard && iDavis.isAdmin">
          <div class="island island--half island--half--left" style="padding-top: 14px;" *ngIf="!iConfig.isWizard && iDavis.isAdmin">  
            <input type="checkbox" class="switch to-right" id="admin" name="admin"
              [(ngModel)]="iDavis.values.user.admin"
              [attr.disabled]="(iConfig.isWizard) ? true : null"
              (change)="validate()" />
            <label for="admin" class="switch__label">
              <span class="switch__caption">Filter Enabled</span>
            </label>
          </div>
        </div>
      </div>
      <div class="island island--full" *ngIf="!iConfig.isWizard && !isMyUser && iDavis.isAdmin && !isNewUser">
        <button type="button" class="btn btn--secondary btn--secondary--delete"
            [attr.disabled]="(iConfig.isWizard) ? true : null"
            (click)="clearAll()">
            Reset
        </button>
      </div>
      <div class="island island--center island--submit">
        <button type="submit" class="btn btn--primary btn--submit"
            [attr.disabled]="(!form.valid || submitButton === 'Saving...' || !isDirty) ? true : null">
            {{ submitButton }}
        </button>
      </div>
    </div>
  </div>
</div>
</form>
   
